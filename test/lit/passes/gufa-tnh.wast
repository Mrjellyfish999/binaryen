;; NOTE: Assertions have been generated by update_lit_checks.py --all-items and should not be edited.
;; RUN: foreach %s %t wasm-opt -all --gufa -tnh -S -o - | filecheck %s

(module
  (func $called (param $x funcref) (param $ignore funcref) (param $y funcref) (param $z funcref)
    ;; x, y, and z are cast to a more refined type.
    (drop
      (ref.cast func
        (local.get $x)
      )
    )
    (drop
      (ref.cast func
        (local.get $y)
      )
    )
    (drop
      (ref.cast func
        (local.get $z)
      )
    )
  )

  (func $caller (param $f funcref) (param $F (ref func))
    (call $called
      (local.get $f)
      (local.get $f)
      (local.get $F)
      (local.get $f)
    )
  )
)
